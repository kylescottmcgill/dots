#---------------------------------------------------------------
# file:     ~/.tmux.conf
# author:   Kyle Mcgill - http://kylescottmcgill.com/
# vim:fenc=utf-8:nu:ai:si:et:ts=4:sw=4:fdm=indent:fdn=1:ft=tmux:
#---------------------------------------------------------------

##Things to remember:
# Ctrl+a is the 'prefix' / control key
# ctrl+a ?    - displays all of the current key bindings
# ctrl+a crtl+a - switches between last active window
# ctrl+a ,      - renames current window
# ctrl+a |      - splits window vertically
# ctrl+a -      - splits window horizontally
# ctrl+a q      - displays numbers on each pane.  Press the number to go to that pane
# ctrl+a o      - cycle through panes
# ctrl+a ctrl+o - cycle panes into the pane you're currently viewing
# ctrl+a n,p    - next/previous windows same as screen
# ctrl+a <space>- changes default layout of your panes (even-horiz, even-vert, etc)
# ctrl+a alt+arrowkeys - resizes current window pane in the direction of the arrow key
# ctrl+a [      - enter copy mode
# ctrl+a a <com>- sends <com> to nested screen or tmux session
# ctrl+a x      - kill a pane(or window)
# ctrl+a w      - list and switch between windows
# ctrl+a s      - list and switch between sessions
# ctrl+a : new -s <session name> - create a new session
# ctrl+a r      - reload / source .tmux.conf
# ctrl+a A      - rename current window
# ctrl+a k      - kill window
# ctrl+a m      - turn on/off monitor_activity for a window(useful for irssi)
# ctrl+a M      - turn on/off mouse mode
# ctrl+a b/B- switch prefix from ctrl+a to ctrl+b or back
# ctrl+a X- break pane to its own window
# ctrl+a j- bring a window in to current window as a pane (ie: join-pane 0:1)
# ctrl+a T <pos>- move current window to position <pos>
# ctrl+a+left- move current window one spot to the left
# ctrl+a+right- move current window one spot to the right
# ctrl+a useful- copy the current window/pane and pipe it to urlview to grab all the urls

# Basic settings {{{
#
set -ag terminal-overrides ",*:XT@"

#set -g default-command bash
set -g default-shell /bin/bash
set -g default-terminal "screen-256color"

set-window-option -g xterm-keys on
setw -g mode-keys vi
set -g status-keys vi

# Number of lines held in window history
set -g history-limit 10000

# Start Window Numbering at 1
set -g base-index 1

set-window-option -g utf8 on
set-window-option -g aggressive-resize on
set-option -g status-utf8 on

#set -g mode-mouse on
#set -g mouse-resize-pane on
#set -g mouse-select-pane on
#set -g mouse-select-window on

# }}}

# remap prefix to Control + a
#set -g prefix C-b
#unbind C-b
#bind C-b send-prefix


# open %% man page
bind C-m command-prompt -p "Open man page for:" "new-window 'exec man %%'"

bind-key r source-file ~/.tmux.conf \; display-message " Config reloaded..."
unbind ^A
bind ^A select-pane -t :.+

set -g set-titles on
set -g set-titles-string "tmux: #T"
setw -g automatic-rename on
setw -g monitor-activity on
set-option -g allow-rename on
set -g visual-activity off

set-window-option -g window-status-current-bg black
set-window-option -g window-status-current-fg blue
set-window-option -g window-status-activity-fg black
set-window-option -g window-status-activity-bg red
set-window-option -g window-status-content-fg white
set-window-option -g window-status-bell-fg white

set -g status-fg white
set -g status-bg black

set-option -g pane-active-border-fg red

set -s escape-time 0

setw -g status-position top

set -g status-justify right
set -g status-bg black
set -g status-fg default
set -g status-interval 30

set -g message-attr bold
set -g message-fg black
set -g message-bg yellow

# Window list
setw -g window-status-current-fg red
setw -g window-status-current-attr none
setw -g window-status-format '#[fg=black] #W#F'
setw -g window-status-current-format '#[fg=red] #W#F'

# Left
set -g status-left '#[fg=red]tmux#[fg=black,bold] #H #[fg=red]>>#[fg=black,bold] #S'
set -g status-left-length 40
set -g status-left-fg black

# Right
set -g status-right '#[fg=red,bold]<< #[fg=black,bold]CPU #[fg=red,nobold]#(cut -d " " -f1 /proc/loadavg) #[fg=black,bold]Mail #[fg=red,nobold]#(checkmail) #[fg=black,bold]RSS #[fg=red,nobold]#(newsbeuter-unread) #[fg=black,bold]Pac #[fg=red,nobold]#(pacup) #[fg=black,bold]|%l:%M'
